#!/usr/bin/perl

use Net::FTP;

$file=shift @ARGV;
$ip=shift @ARGV;
$dir=shift @ARGV;

if (!defined($ip)){
	$ip="192.168.1.80";
}

if (!defined($file)){
	$file="A104_V11.BIN";
}


$ftp = Net::FTP->new($ip, Debug => 0);

#$ftp->login("anonymous",'me@here.there' ) || die "\nFailed to login!\n\n";
$ftp->login("michael",'sangoma') || die "\nFailed to login!\n\n";

$ftp->binary;  

if (defined($dir)){
	$ftp->cwd($dir);
}

$ftp->get($file) || die "\nFailed to get $file from $ip$dir\n\n";
$ftp->quit;               

print "\nFile $dir/$file received from $ip\n\n";

exit (0);


sub usage()
{

print "

Usage:

 ftp_get.pl <ip> <filename> [ directory ]

"

}
