<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libhpsangoma: sangoma_hptdm_span Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>sangoma_hptdm_span Struct Reference</h1><!-- doxytag: class="sangoma_hptdm_span" -->Span structure. Structure describing a single span.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>&gt;</code>
<p>
Collaboration diagram for sangoma_hptdm_span:<p><center><img src="structsangoma__hptdm__span__coll__graph.png" border="0" usemap="#sangoma__hptdm__span__coll__map" alt="Collaboration graph"></center>
<map name="sangoma__hptdm__span__coll__map">
<area href="structsangoma__hptdm__span__reg.html" shape="rect" coords="5,215,200,241" alt="">
<area href="structsangoma__hptdm__chan__map.html" shape="rect" coords="224,215,427,241" alt="">
<area href="structsangoma__hptdm__chan.html" shape="rect" coords="241,119,409,145" alt="">
<area href="structsangoma__hptdm__chan__reg.html" shape="rect" coords="139,7,333,33" alt="">
<area href="structhp__tdm__chunk.html" shape="rect" coords="357,7,472,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="structsangoma__hptdm__span-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#6cacbe722a1744a26412799552186cb5">init</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#6ddf12c36674099ef529234d9057e5ef">span_no</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#ea2f0206a546ae74962f84e482f63276">if_name</a> [100]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#2beb9a0490cfda191875bbaf58e79453">sock</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#c8ea25063a09267bbe22084e6cb7a32c">chunk_sz</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#9efd139e4214d62b07060147acfd2849">max_chans</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#c3bad0a028665de4385f792bf0be3c55">tx_size</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#15230551ba1429679eda4ac11cf7ebf7">idle</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#ee171f9edaddbe0c76c56c151d0ca18e">timeslot_cfg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#fb940d35a9dc0a91871be3100c0a90f5">hwcoding</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsangoma__hptdm__chan__map.html">sangoma_hptdm_chan_map_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#63de8342af835a970d8105c2fe5282dc">chan_idx</a> [SMG_HP_TDM_MAX_CHANS]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#917ee1efbde4fef0550aff1b1a5ae5cf">rx_data</a> [SMG_HP_MAX_SPAN_DATA]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#88165ecfc96fcdc432154d7cdc93b7aa">rx_len</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#79ae4bccb7e92866e20e816a629c9ce7">tx_data</a> [SMG_HP_MAX_SPAN_DATA]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#70ddcf83aeb3c5f7a4792fa50042bf42">tx_len</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structsangoma__hptdm__span__reg.html">sangoma_hptdm_span_reg_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#3fe0c377ed097e61a98b9b278a2ec870">span_reg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">wan_if_cfg_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#000b5bc46e96a6ce6ce0601b262758a4">span_cfg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">wan_udp_hdr_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#06aa115c3c6f6cf024484fdd6bf1bff4">wan_udp</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#01c3eefc1ed1e4482093deba3d167806">open_chan</a> )(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, <a class="el" href="structsangoma__hptdm__chan__reg.html">sangoma_hptdm_chan_reg_t</a> *chan_reg, unsigned int chan_no, <a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> **chan_ptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: open a channel inside a span.  <a href="#01c3eefc1ed1e4482093deba3d167806"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#04ab1744bee8d7333303e8da52c46b74">close_chan</a> )(<a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> *chan)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: close a channel inside the span.  <a href="#04ab1744bee8d7333303e8da52c46b74"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#3a41fea372d8c4c8318f842134b93b3e">is_chan_closed</a> )(<a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> *chan)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: check if channel is closed.  <a href="#3a41fea372d8c4c8318f842134b93b3e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#df409d25fbe30c631146616298d715b8">run_span</a> )(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: run main span execution logic: rx/tx/oob.  <a href="#df409d25fbe30c631146616298d715b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#374c4f8d8a6df82f7a22ee777d3c0cc9">close_span</a> )(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: close span.  <a href="#374c4f8d8a6df82f7a22ee777d3c0cc9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#c40f099ec1797a9188596912cd9bc545">event_ctrl</a> )(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, hp_tdmapi_tx_event_t *event)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: used by user app to execute events on current span.  <a href="#c40f099ec1797a9188596912cd9bc545"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsangoma__hptdm__span.html#96b3b3ada170989b083646b3f8e4004b">get_cfg</a> )(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, wan_if_cfg_t *cfg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Method: request full span configuration from a current span.  <a href="#96b3b3ada170989b083646b3f8e4004b"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Span structure. Structure describing a single span. 
<p>

<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00173">173</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="63de8342af835a970d8105c2fe5282dc"></a><!-- doxytag: member="sangoma_hptdm_span::chan_idx" ref="63de8342af835a970d8105c2fe5282dc" args="[SMG_HP_TDM_MAX_CHANS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsangoma__hptdm__chan__map.html">sangoma_hptdm_chan_map_t</a> <a class="el" href="structsangoma__hptdm__span.html#63de8342af835a970d8105c2fe5282dc">sangoma_hptdm_span::chan_idx</a>[SMG_HP_TDM_MAX_CHANS]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
array of maximum number of channels in a span 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00206">206</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="c8ea25063a09267bbe22084e6cb7a32c"></a><!-- doxytag: member="sangoma_hptdm_span::chunk_sz" ref="c8ea25063a09267bbe22084e6cb7a32c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#c8ea25063a09267bbe22084e6cb7a32c">sangoma_hptdm_span::chunk_sz</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
chunk size for each channel inside the span 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00188">188</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="04ab1744bee8d7333303e8da52c46b74"></a><!-- doxytag: member="sangoma_hptdm_span::close_chan" ref="04ab1744bee8d7333303e8da52c46b74" args=")(sangoma_hptdm_chan_t *chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#04ab1744bee8d7333303e8da52c46b74">sangoma_hptdm_span::close_chan</a>)(<a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> *chan)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: close a channel inside the span. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>chan object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="374c4f8d8a6df82f7a22ee777d3c0cc9"></a><!-- doxytag: member="sangoma_hptdm_span::close_span" ref="374c4f8d8a6df82f7a22ee777d3c0cc9" args=")(struct sangoma_hptdm_span *span)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#374c4f8d8a6df82f7a22ee777d3c0cc9">sangoma_hptdm_span::close_span</a>)(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: close span. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>span</em>&nbsp;</td><td>span object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c40f099ec1797a9188596912cd9bc545"></a><!-- doxytag: member="sangoma_hptdm_span::event_ctrl" ref="c40f099ec1797a9188596912cd9bc545" args=")(struct sangoma_hptdm_span *span, hp_tdmapi_tx_event_t *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#c40f099ec1797a9188596912cd9bc545">sangoma_hptdm_span::event_ctrl</a>)(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, hp_tdmapi_tx_event_t *event)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: used by user app to execute events on current span. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>span</em>&nbsp;</td><td>span object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>event</em>&nbsp;</td><td>event object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="96b3b3ada170989b083646b3f8e4004b"></a><!-- doxytag: member="sangoma_hptdm_span::get_cfg" ref="96b3b3ada170989b083646b3f8e4004b" args=")(struct sangoma_hptdm_span *span, wan_if_cfg_t *cfg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#96b3b3ada170989b083646b3f8e4004b">sangoma_hptdm_span::get_cfg</a>)(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, wan_if_cfg_t *cfg)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: request full span configuration from a current span. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>span</em>&nbsp;</td><td>span object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>configuratoin object to be filled by span </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="fb940d35a9dc0a91871be3100c0a90f5"></a><!-- doxytag: member="sangoma_hptdm_span::hwcoding" ref="fb940d35a9dc0a91871be3100c0a90f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsangoma__hptdm__span.html#fb940d35a9dc0a91871be3100c0a90f5">sangoma_hptdm_span::hwcoding</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hw data encoding: ULAW/ALAW obtained from hw interface 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00203">203</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="15230551ba1429679eda4ac11cf7ebf7"></a><!-- doxytag: member="sangoma_hptdm_span::idle" ref="15230551ba1429679eda4ac11cf7ebf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="structsangoma__hptdm__span.html#15230551ba1429679eda4ac11cf7ebf7">sangoma_hptdm_span::idle</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
idle flag used to fill an unused channel 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00197">197</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="ea2f0206a546ae74962f84e482f63276"></a><!-- doxytag: member="sangoma_hptdm_span::if_name" ref="ea2f0206a546ae74962f84e482f63276" args="[100]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structsangoma__hptdm__span.html#ea2f0206a546ae74962f84e482f63276">sangoma_hptdm_span::if_name</a>[100]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span hw interface name to which span is bounded to 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00182">182</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="6cacbe722a1744a26412799552186cb5"></a><!-- doxytag: member="sangoma_hptdm_span::init" ref="6cacbe722a1744a26412799552186cb5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#6cacbe722a1744a26412799552186cb5">sangoma_hptdm_span::init</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span init flag used to determine if span is being used 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00176">176</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="3a41fea372d8c4c8318f842134b93b3e"></a><!-- doxytag: member="sangoma_hptdm_span::is_chan_closed" ref="3a41fea372d8c4c8318f842134b93b3e" args=")(sangoma_hptdm_chan_t *chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#3a41fea372d8c4c8318f842134b93b3e">sangoma_hptdm_span::is_chan_closed</a>)(<a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> *chan)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: check if channel is closed. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>chan object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9efd139e4214d62b07060147acfd2849"></a><!-- doxytag: member="sangoma_hptdm_span::max_chans" ref="9efd139e4214d62b07060147acfd2849" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#9efd139e4214d62b07060147acfd2849">sangoma_hptdm_span::max_chans</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
total number of channels configured in the span 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00191">191</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="01c3eefc1ed1e4482093deba3d167806"></a><!-- doxytag: member="sangoma_hptdm_span::open_chan" ref="01c3eefc1ed1e4482093deba3d167806" args=")(struct sangoma_hptdm_span *span, sangoma_hptdm_chan_reg_t *chan_reg, unsigned int chan_no, sangoma_hptdm_chan_t **chan_ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#01c3eefc1ed1e4482093deba3d167806">sangoma_hptdm_span::open_chan</a>)(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span, <a class="el" href="structsangoma__hptdm__chan__reg.html">sangoma_hptdm_chan_reg_t</a> *chan_reg, unsigned int chan_no, <a class="el" href="structsangoma__hptdm__chan.html">sangoma_hptdm_chan_t</a> **chan_ptr)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: open a channel inside a span. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>span</em>&nbsp;</td><td>span object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan_reg</em>&nbsp;</td><td>channel registration structure: callbacks and cfg </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan_no</em>&nbsp;</td><td>channel number - integer starting from 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan_ptr</em>&nbsp;</td><td>user container for channel object passed up to the user. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="df409d25fbe30c631146616298d715b8"></a><!-- doxytag: member="sangoma_hptdm_span::run_span" ref="df409d25fbe30c631146616298d715b8" args=")(struct sangoma_hptdm_span *span)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structsangoma__hptdm__span.html#df409d25fbe30c631146616298d715b8">sangoma_hptdm_span::run_span</a>)(struct <a class="el" href="structsangoma__hptdm__span.html">sangoma_hptdm_span</a> *span)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Method: run main span execution logic: rx/tx/oob. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>span</em>&nbsp;</td><td>span object</td></tr>
  </table>
</dl>
Run main span execution logic. This function peforms all socket operations on a hw interface. Rx/Tx/Oob. Receives data and demultiplexes it to channels. Receives oob data and passes user events global to all channels. Multiplexes all channel tx data into a single tx data block and passes it to hw iface. 
</div>
</div><p>
<a class="anchor" name="917ee1efbde4fef0550aff1b1a5ae5cf"></a><!-- doxytag: member="sangoma_hptdm_span::rx_data" ref="917ee1efbde4fef0550aff1b1a5ae5cf" args="[SMG_HP_MAX_SPAN_DATA]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structsangoma__hptdm__span.html#917ee1efbde4fef0550aff1b1a5ae5cf">sangoma_hptdm_span::rx_data</a>[SMG_HP_MAX_SPAN_DATA]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span rx data block: used to receive a block of data from hw interface: recv() 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00209">209</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="88165ecfc96fcdc432154d7cdc93b7aa"></a><!-- doxytag: member="sangoma_hptdm_span::rx_len" ref="88165ecfc96fcdc432154d7cdc93b7aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#88165ecfc96fcdc432154d7cdc93b7aa">sangoma_hptdm_span::rx_len</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span rx data len, obtained after a recv() call to hw interface 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00212">212</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="2beb9a0490cfda191875bbaf58e79453"></a><!-- doxytag: member="sangoma_hptdm_span::sock" ref="2beb9a0490cfda191875bbaf58e79453" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#2beb9a0490cfda191875bbaf58e79453">sangoma_hptdm_span::sock</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span socket file descriptor used to rx/tx data to and from hw interface 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00185">185</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="000b5bc46e96a6ce6ce0601b262758a4"></a><!-- doxytag: member="sangoma_hptdm_span::span_cfg" ref="000b5bc46e96a6ce6ce0601b262758a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wan_if_cfg_t <a class="el" href="structsangoma__hptdm__span.html#000b5bc46e96a6ce6ce0601b262758a4">sangoma_hptdm_span::span_cfg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span config structure obtained from hw interface via managment ioctl call. 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00224">224</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="6ddf12c36674099ef529234d9057e5ef"></a><!-- doxytag: member="sangoma_hptdm_span::span_no" ref="6ddf12c36674099ef529234d9057e5ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#6ddf12c36674099ef529234d9057e5ef">sangoma_hptdm_span::span_no</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span number - integer starting from 0 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00179">179</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="3fe0c377ed097e61a98b9b278a2ec870"></a><!-- doxytag: member="sangoma_hptdm_span::span_reg" ref="3fe0c377ed097e61a98b9b278a2ec870" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsangoma__hptdm__span__reg.html">sangoma_hptdm_span_reg_t</a> <a class="el" href="structsangoma__hptdm__span.html#3fe0c377ed097e61a98b9b278a2ec870">sangoma_hptdm_span::span_reg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span registration functions: contains user callback functions 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00221">221</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="ee171f9edaddbe0c76c56c151d0ca18e"></a><!-- doxytag: member="sangoma_hptdm_span::timeslot_cfg" ref="ee171f9edaddbe0c76c56c151d0ca18e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="structsangoma__hptdm__span.html#ee171f9edaddbe0c76c56c151d0ca18e">sangoma_hptdm_span::timeslot_cfg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
bit map of configured timeslots obtained from hw interface 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00200">200</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="79ae4bccb7e92866e20e816a629c9ce7"></a><!-- doxytag: member="sangoma_hptdm_span::tx_data" ref="79ae4bccb7e92866e20e816a629c9ce7" args="[SMG_HP_MAX_SPAN_DATA]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="structsangoma__hptdm__span.html#79ae4bccb7e92866e20e816a629c9ce7">sangoma_hptdm_span::tx_data</a>[SMG_HP_MAX_SPAN_DATA]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span tx data block: used to transmit a block of data to hw interface: send() 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00215">215</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="70ddcf83aeb3c5f7a4792fa50042bf42"></a><!-- doxytag: member="sangoma_hptdm_span::tx_len" ref="70ddcf83aeb3c5f7a4792fa50042bf42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#70ddcf83aeb3c5f7a4792fa50042bf42">sangoma_hptdm_span::tx_len</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span tx data block len: passed to send() function 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00218">218</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="c3bad0a028665de4385f792bf0be3c55"></a><!-- doxytag: member="sangoma_hptdm_span::tx_size" ref="c3bad0a028665de4385f792bf0be3c55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structsangoma__hptdm__span.html#c3bad0a028665de4385f792bf0be3c55">sangoma_hptdm_span::tx_size</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
total tx data size to hw interface. tx_size = max_chans * chunk_sz 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00194">194</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<a class="anchor" name="06aa115c3c6f6cf024484fdd6bf1bff4"></a><!-- doxytag: member="sangoma_hptdm_span::wan_udp" ref="06aa115c3c6f6cf024484fdd6bf1bff4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wan_udp_hdr_t <a class="el" href="structsangoma__hptdm__span.html#06aa115c3c6f6cf024484fdd6bf1bff4">sangoma_hptdm_span::wan_udp</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
span managment structure used to execute mgmnt ioctl commands to hw interface 
<p>
Definition at line <a class="el" href="libhpsangoma_8h-source.html#l00227">227</a> of file <a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a>.
</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="libhpsangoma_8h-source.html">libhpsangoma.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Aug 17 23:56:55 2008 for libhpsangoma by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
