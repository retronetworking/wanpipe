WANPIPE OFFICIAL RELEASE CHANGE LOG
===================================


Author: Nenad Corbic <ncorbic@sangoma.com>


Wanpipe Linux Web Page:
-------------------
Sign-up to receive email notification of driver changes  
and updates for WANPIPE under Linux.

	http://www.sangoma.com/wanpipe_linux/wanpipe_linux_main.htm
	

IMPORTANT
----------
	
	o From 2.3.0 release forward ADSL drivers can be compiled
          against any kernel source thanks to the new OS
          abstraction layer.

          Furthermore, 2.3.0 release contains major architectual
          driver changes which will allow us to commonise FreeBSD
          NetBSD and Linux drivers.

	o From 2.2.6 release forward the new S514-7 Dual T/E1, 
	  S514-8 Single TE1 and S518 ADSL cards are supproted.

	o From 2.2.4 release forward the new S514-4 T/E1 and S514-5 56K
           cards are supported.
   
	o From 2.2.3 release forward ALL wanpipe modules
          including API modules, can be recompiled from
           ./Setup installation script! 
           NO KERNEL RECOMPILATION is necessary.
           
	o From 2.2.3 release forward, wanpipe directory
           architecture has been changed.  New home directory
           for wanpipe is /etc/wanpipe. 
   
	o All old releases are in ../old_releases/wanpipe directory. 

	o Custom RPMs can be build based on current kernel image
	  by using the ./Setup buildrpm command.
	  Read the README.rpmbuild.


Jul 14 2003: Release beta8-2.3.0
--------------------------------

	o New API sockets 

	  The MPAPI sockets have replaced the
	  original WANPIPE API sockets.  The
	  API interface is 100% backward compatible.
	  

	o Wanrouter External Scripts Support
   
          The /usr/sbin/wanrouter startup script
	  is now able to start external scripts for
	  each action performed on WANPIPE devices.


	  Script Location: 
		Configurable in /etc/wanpipe/wanrouter.rc
		
		eg:	WAN_SCRITPS_DIR=/etc/wanpipe/scripts/


	  Interface Start/Stop Scripts:

	    <device name>-<interface name>-<cmd>

	    eg: wanpipe1-wan0-start
		wanpipe1-wan0-stop


	    Interfaces scripts will get invoked by the following commands:
	    	
		wanrouter [start|stop|restart]
		wanrouter [start|stop|restart] <device>
		wanrouter [start|stop|restart] <device> <interface>
		
	    or  dynamically by wanpipe syncppp driver after 
	        successfull IPCP negotiation.

		This option is extremely useful for PPPoA ADSL
		or PPP customers, that need to update their 
		routers based on new negotiated IP addresses.

	  Device Start/Stop Scripts:

	    <device name>-<cmd>

	    eg: wanpipe1-start
		wanpipe1-stop

	    Device scripts will get invoked by the following commands:
		wanrouter [start|stop|restart]
		wanrouter [start|stop|restart] <device>

	  Global Start/Stop Scripts:

	    <cmd>

	    eg: start
		stop

	    Global Wanpipe scripts will get invoked by the following commands:
		wanrouter [start|stop|restart]

	  Wancfg Configurator Update
	    
	    The /usr/sbin/wancfg configuration utility has
	    been updated to create/edit all external
	    global,device,interface scripts.


	  Each script is executed as Bash2 shell script.


	o Wancfg Configurator Update
	
	  The /usr/sbin/wancfg configuration utility has 
	  been updated to create/edit all external
	  global,device,interface scripts.


May 22 2003: Release beta7-2.3.0
--------------------------------

	o ADCCP Lapb API Protocol
	  
	  New ADCCP Lapb API protocol for
	  S514 and S508 cards.

	  Read the REAME.adccp for more info.

	o ADSL Update
  
          Bug fixes and feature upates to the
	  ADSL code.  Including, line watchdog
	  and cell delienation fix.

	  Added a line watchdog feature. New config
	  option ADSL_WATCHDOG in wanpipe1.conf.

	  New PPPoA ppp driver.  No need to use
	  the pppd daemon any more.  The whole PPPoA 
	  configuration is now inside /usr/sbin/wancfg.

          New Interface Config Options:

		DYN_INTR_CFG: Option enables dynamic ppp ip addressing
		PAP:          Enables pap authentication
		CHAP:	      Enables chap authentication
		USERID:       User id
		PASSWD:       User password

	  Refer to README.adsl for further info.

	o MPAPI X25 Updates and fixes

	o Updated WANPIPE for 
	  RedHat AS 2.1 distribution.  


Apr 22 2003: Release beta6-2.3.0
--------------------------------

	o ATM firmware update
	  Beta5 had the ATM wrong firmware version,
	  which doesn't work with some ATM switches.

	o Frame Relay bug fix. 
	  If running beta4-2.3.0 update to the latest
	  or enable MULTICASTING in network interface
	  protocol setup.

	o ADSL protocol update
	  ADSL driver was too sensitive to noisy lines which
	  caused it to re-train too often. 

	  ADSL PPPoA has been re-designed.  The PPPD Daemon
	  is not used any more.  The Wanpipe PPP kernel stack
	  has PAP/CHAP support now.  

	  Thus whole PPPoA configuration, including PAP/CHAP
	  is now handled by the /usr/sbin/wancfg configurator.

 	o New SNMP MIBS
	  New SNMP MIBS for T1/E1/56 front ends
	  Updated original protocol mibs: FR/PPP/CHDLC/X25 ...


Apr 9 2003: Release beta5-2.3.0
-------------------------------

	o New ATM driver for S514(T1/E1) cards

	  Flexible PHY-layer, supporting all formats of Idle, 
	  Unassigned and Physical Layer cells.

	  DS1 direct ATM cell mapping as per ITU G.804 
	  Section 2.1.
	
	  Support for AAL Type 5.

    	  ATM operations and management (OAM) support.

    	  Extensive statistics at both the PHY and ATM levels.

    	  Real-time data scope with advanced cell-filtering 
	  capabilities.

    	  Unlimited number of VPI/VCI combinations.

    	  Encapsulation and protocols supported
          (IP over ATM, PPP over ATM, and Ethernet over ATM)

	o ADSL driver update
         
	  Major bug fixes in ADSL driver.
	  Better retraining algorithm, improved debugging.
	  Better performance on noisy lines.

	o Multi-Protocol Driver Support

	  The Multi Protocol drivers implements HDLC/PPP/CHDLC
	  protocols in kernel that run over sangoma dumb
	  card support (S514/S508).

          All Multi Protocol drivers can run on each Sangoma
	  S514/S508 Primary and Secondary Ports.

	o Multi-Protocol API Support

	  The Multi Protocol API support runs on top of the
	  Multi Protocol drivers.  The MPAPI supports X25/LAPB
	  and DSP protocols as kernel modules. 

          All Multi Protocol APIs can run on each Sangoma
	  S514/S508 Primary and Secondary Ports.

	  Sample code /etc/wanpipe/api/mpapi/
	
	  The MPAPI support is not released with standard wanpipe
	  release.  It must be downloaded separately.  For
	  further info contact Sangoma Technologies.

	o Updated Wanpipe Documentation
	  
	  New PDF Files: WanpipeInstallation.pdf
	                 WanpipeConfiguration.pdf
			 WanpipeOperation.pdf
			 WanpipeDebugging.pdf
			 x25_programming_manual.pdf
	
	  New README Files:
	                 There is a README file for
			 each new protocol.

			 eg: README.atm, README.adsl...

			 New README.faq

          All README files are in doc/ directory or
	  once WANPIPE is installed in /usr/share/doc/wanpipe
	  directory.

	o Updated Wanpipe utilites



Feb 21 2003: Release beta4-2.3.0
--------------------------------

	o POS (Point of Sale) S509/S515 card support
	  The POS adapters support proprietary protocols
	  such as: IBM 4680, NCR 2126, NCR 1255

	  To enable POS card, on installation run:
	  	./Setup install --protocol=POS


	o ADSL driver update
	  
	o Wanpipe drivers update
	  Wanpipe Event based line debugging 
	  
	  For Frame Relea, PPP and CHDLC protocols, 
	  extensive debugging is outputted to the 
	  logs, in case of  a protocol, line or 
	  hardware error events.

	o Setup installation script update

	   When compiling wanpipe drivers two compilation
	   options are offered:

	   Compilaton Options:  Default or Custom

	   Default compilation: 
	   	Compile the standard WANPIPE protocols 
		into the kernel device driver: Frame Relay, PPP, CHDLC 
		Multi-Port Frame Relay, Multi-Port PPP, and X25(API). " 
		
	   Custom compilation:
	        Offer a menu of all available WAN and 
		API protocols. The user will be able to enable 
		protocols individually or all at once, 
		as desired. 

	

Jan 7 2003: Release beta3-2.3.0 
-------------------------------

	o ADSL Update
	  
	  Added ATM OAM protocol support
	  OAM Cell loopback is used to test the 
	  functionality of the ATM network before
	  the upper layers are enabled.
	  i.e. ATM Ping

	  Added further buffer locking mechanism that
	  will further protect buffers on SMP systems.

	o Wanpipemon Update

	  Added ADSL ATM Cell trace option 
	  (tl2) to ADSL debugger.
	  
	  eg: wanpipemon -i <ifname> -c tl2

	o Frame Relay memory leak bug fix under
	  BRIDGE MODE. If a non ethernet packet was
	  received from the remote network, it was
	  not properly deallocated. 

	  This condition is very rare but it may occur.

	o Updated ATMARP's for Classical IP over
	  ATM protocol.  On startup the Client
	  will send out ATMARPS every 10 seconds.
	  Refer to RFC2225
	
	o Updated Classical IP over ATM protocol.
	  Maximum MTU=9180 bytes.  Specified in RFC2225

Release beta2 2.3.0
--------------------

	o Bug fix in wanrouter.h header
           The kernel source compilation failed due to
           a missing header include file in wanrouter.h 
 
           This has been fixed now.  No other changes
           except in wanrouter.h.

	o wanpipemon debugger update
       



Dec 04 2002: Release beta1 2.3.0
---------------------------------------------

	o ADSL abstraction layer has been added
	  to the main wanpipe source.  Thus, from now
	  on ADSL code can be compiled against any
	  custom kernel.  

	  Added new ATM encapsulation modes:

	  Bridged Ethernet LLC over ATM (PPPoE: requires rp-pppoe)
	  Bridged Ethernet VC over ATM
	  Routed IP LLC over ATM (Classical IP)
	  Routed IP VC over ATM
	  PPP LLC over ATM (PPPoA: requires pppd)
	  PPP VC over ATM (PPPoA: requires pppd)

	o Wanpipemon GUI update
	  Better menu system

	o Major driver updates due to new common
	  headers between all protocols and other
	  operating systems (FreeBSD, NetBSD). 


Nov 21 2002: Release beta4 2.2.6
---------------------------------------------

	o Compilation problems on RedHat 8.0 kernel
          have been fixed


Oct 30 2002: Release Beta3 2.2.6
---------------------------------------------

	o Turns out that RedHat 8 moved the 2.4.20 feature
	  into its 2.4.18 kernel, thus causing the same
	  problem.  Thus I had to re-do the fix.

	o Fixed the bug that caused the wanpipe comilation
	  errors when drivers were being compiled into
	  the kernel. (i.e. not modules)

        The current 2.2.6 RPMS are not affected by this bug, since
        they were compiled for older kernels (not 2.4.20).


Oct 30 2002: Release Beta2 2.2.6
--------------------------------

	o Due to the change in 2.4.20 kernel all wanpipe
	  network interfaces failed on startup.
	  	  
	  A fix was a one liner, however it had to be
	  applied to all protocols.



Oct 22 2002: Release Beta1 2.2.6
--------------------------------

	o Support for new hardware:
		S5147 - Dual T1/E1 card
		S5148 - T1/E1 card
		S518  - ADSL card

	o New ADSL drivers
		Ethernet of ATM	(IPoE and PPPoE) 
		Classical IP of ATM

	o Updated drivers for all protocols
 	  
	o A unified debugging tool 'wanpipemon'
	  that replaces protocol specific debugging
	  tools (fpipemon, cpipemon, xpipemon ...)

	  GUI support for wanpipemon 

	o Update 'wancfg' configuration tool 
	
	o Updated documentation

	o Frame Relay Feature
		Auto DLCI configuration for a single DLCI.
		The /usr/sbin/wancfg will offer the auto
		option if FR is configured for CPE and
		a Single DLCI.

	o New MultiPort Frame Relay Driver

	  This new Frame Relay driver can operate on both
	  S514/S508 PRIMARY and SECONDARY ports.

	  Thus, on a single S5141 card one can run CHDLC,
	  and FR on each port.

	  On a S5142 card on can run CHDLC, MPPP and MFR
	  protocols on each 4 ports.  

	o SDLC support for Linux
	  API for SDLC protocol

	o Update to /usr/sbin/wanrouter

	 	wanrouter debug 
			Check current wanpipe environment.
                        After a startup error run this command to
                        get a possible solution
                        i.e. wanrouter start; wanrouter debug;

        	wanrouter debug if_name
			Display common debugging statistics
                        In case of line problems save to file,
                        wait 2-5mi and send to Sangoma Tech Support
                        i.e. wanrouter debug wp1fr16 > debug_file;

        	wanrouter messages
			Display wanpipe kernel event messages
                        i.e. /var/log/messages

        	wanrouter conflog
			Display wanpipe configuration parsing messages
                        i.e. /var/log/wanrouter

